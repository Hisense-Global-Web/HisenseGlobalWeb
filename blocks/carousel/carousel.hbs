<div class="carousel carousel-{{variation}}">
    <div calss="carousel-inner">
        {{!-- Carousel items will be injected here by carousel.js --}}
        {{#each nestedBlocks as |block index|}}
            <div class="carousel-item" {{#if (eq index 0)}}active{{/if}}>
                {{#if block.fields.link}}
                <a href="{{block.fields.link}}" class="carousel-link" target="_blank">{{/if}}
                <div class="slide-img-container">
                    <img src="{{block.image.src}}"
                    alt="{{block.image.alt}}"
                    class="carousel-img"
                    loading="lazy"
                    />
                    {{#if block.fields.customIcon}}
                        <div class="custom-icon">
                            <img src="{{block.fields.customIcon.src}}"
                            alt="{{block.fields.customIcon.alt}}"
                            class="custom-icon-img"
                            loading="lazy"
                            />
                        </div>
                    {{/if}}
                </div>
                {{#if block.fields.caption}}
                    <div class="carousel-caption">
                        <p>{{block.fields.caption}}</p>
                    </div>
                {{/if}}
                {{#if block.fields.link}}</a> {{/if}}
            </div>
        {{/each}}
    </div>
    {{!-- Carousel controls will be injected here by carousel.js --}}
    {{#if fields.showControls}}
        <div class="carousel-controls">
            <button type="button" class="slide-prev" aria-label="Previous Slide"></button>
            <button type="button" class="slide-next" aria-label="Next Slide"></button>
        </div>
    {{/if}}
    {{!-- Carousel indicators will be injected here by carousel.js --}}
    {{#if fields.showIndicators}}
        <ol class="carousel-indicators">
            {{#each nestedBlocks as |block index|}}
                <li class="carousel-indicator" data-target-slide="{{index}}">
                    <button type="button" aria-label="Show Slide {{inc index}} of {{nestedBlocks.length}}"></button>
                </li>
            {{/each}}
        </ol>
    {{/if}}
</div>